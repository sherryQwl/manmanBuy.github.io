<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>商城导航--慢慢买</title>
    <!-- 计算1rem为多少   本页面中1rem 为  360px -->
    <script src="./js/setRemValue.js"></script>
    <!-- 导入网站图标 -->
    <link href="./favicon.ico" rel="icon" type="image/x-icon" />
    <!-- swiper的样式 -->
    <link rel="stylesheet" href="./lib/swiper/css/swiper.min.css">
    <!-- 滚动条的一些样式 -->
    <link rel="stylesheet" href="./css/scroll-swiper.css">
    <!-- bootstrap样式 -->
    <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css">
    <!-- 页面样式 -->
    <link rel="stylesheet" href="./css/index.css">
    <!--引入商城导航的样式-->
    <link rel="stylesheet" href="css/sitenav_nxx/sitenav_nxx.css">
    <!-- jquery -->
    <script type="text/javascript" src="./js/jquery-1.12.4.min.js"></script>
    <!-- 模版引擎 -->
    <script src="./lib/plug-in/template-web.js"></script>
    <!-- bootstrap js文件 -->
    <script src="./lib/bootstrap/js/bootstrap.min.js"></script>
    <!-- 基于jquery的swiper -->
    <script type="text/javascript" src="./lib/swiper/js/swiper.jquery.min.js"></script>
    <!-- 首页的js -->
    <script src="./js/index.js"></script>
</head>

<body>
    <!-- 外层的swiper 控制整个页面的上下滚动效果 -->
    <div class="swiper-container scroll-container">

        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <!-- 以下为结构开始 -->
                <header>
                    <div class="header-top">
                        <div class="back "><a class="glyphicon glyphicon-menu-left" href="index.html"></a></div>
                        <div class="title">
                            <h1>商城导航</h1>
                        </div>
                        <div class="appDownLoad"><a href="http://a.app.qq.com/o/simple.jsp?pkgname=com.manmanbuy.bijia"><img src="./images/header_app.png" alt=""></a></div>
                    </div>
                </header>

                <main>
                    <ul class="items">
                        <!--<li class="item">
                            <div class="logo"><a href="#"><img src="images/nxx/1.png" alt=""></a></div>
                            <div class="font"><a href="#"><span>京东商城</span></a></div>
                        </li>-->
                    </ul>
                </main>
                <div class="nav">
                    <span><a href="index.html">首页</a></span>
                    <span><a href="javascript:void(0);">></a></span>
                    <span><a href='javascript:void(0);'>商城导航</a></span>
                </div>

                <footer>

                    <div class="footer-links">
                        <a href="./login.html">登录</a>
                        <a href="./register.html">注册</a>
                        <a href="javascript:void(0)">返回顶部</a>
                    </div>
                    <div class="footer-info">
                        <p><a href="http://a.app.qq.com/o/simple.jsp?pkgname=com.manmanbuy.bijia">手机app下载</a> 慢慢买手机版 -- 掌上比价平台</p>
                        <p>m.manmanbuy.com</p>
                    </div>
                </footer>
                <!-- 以上为结构开始 -->
            </div>
            <!-- swiper-slide -->
        </div>
        <!-- swiper-wrapper -->
        <div class="swiper-scrollbar scroll-bar"></div>
    </div>
    <!-- swiper-container -->
    <div class="tu"><a href="http://a.app.qq.com/o/simple.jsp?pkgname=com.manmanbuy.bijia"><img src="images/nxx/2.png" alt=""></a></div>
    <!-- 调用swiper上下滚动效果的js代码 -->
    <!--<script src="./js/scroll-swiper.js"></script>-->
</body>

</html>
<!--定义模板-->
<script type="text/html" id="template">
    {{each result}}
    <li class="item">
        <div class="logo"><a href="{{$value.navHref}}"><img src="{{$value.navImg}}" alt=""></a></div>
        <div class="font"><a href="{{$value.navHref}}"><span>{{$value.navTitle}}</span></a></div>
    </li>
    {{/each}}
</script>
<!--自己的js-->
<script>
    $(function () {
        $.ajax({
            url: "http://139.199.192.48:9090/api/getsitenav",
            success: function (data) {
                // console.log(data);
                var res = template('template', data);
                // console.log(res);
                $('.items').append(res);
                var swiper = new Swiper('.scroll-container', {
                    scrollbar: '.scroll-bar',
                    direction: 'vertical',
                    slidesPerView: 'auto',
                    mousewheelControl: true,
                    freeMode: true,
                    roundLengths: true, //防止文字模糊\
                    mode: 'horizontal',
                    observer: true, //修改swiper自己或子元素时，自动初始化swiper
                    observeParents: true //修改swiper的父元素时，自动初始化swiper
                });
                $(".items a").attr("target", "_black");
                $("footer > .footer-links a:eq(2)").on("click", function () {
                    swiper.slideTo(0, 500, true);
                });
            }
        })
    })
</script>